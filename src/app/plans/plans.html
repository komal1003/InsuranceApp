<!-- Age Prompt Modal -->
<section *ngIf="showAgePrompt" class="age-prompt-container">
  <div class="age-prompt-card">
    <h2 class="age-prompt-title">Welcome to Raindrops Insurance</h2>
    <p class="age-prompt-subtitle">Please enter your age to view our insurance plans</p>

    <form class="age-form">
      <div class="input-group-custom">
        <label for="age-input" class="input-label">Your Age</label>
        <input
          id="age-input"
          type="number"
          [(ngModel)]="age"
          name="age"
          class="age-input"
          placeholder="Enter your age"
          min="1"
          max="120"
          required
        />
      </div>

      <button
        type="button"
        class="submit-btn"
        [disabled]="!age || age < 30"
        (click)="submitAge()"
      >
        Continue
      </button>
    </form>

    <p class="age-requirement">You must be 30 years or older to proceed.</p>
  </div>
</section>

<!-- Plans Page -->
<main *ngIf="!showAgePrompt" class="plans-container">
  <header class="plans-header">
    <h2>Available Insurance Plans</h2>
    <p>Choose the perfect plan for your health and life insurance needs</p>
  </header>

  <!-- Search Bar -->
  <section class="search-section">
    <div class="search-bar">
      <input
        type="text"
        [(ngModel)]="searchId"
        class="search-input"
        placeholder="Search by Plan ID"
        (keydown.enter)="searchPlan()"
      />
      <button class="search-btn" (click)="searchPlan()">
        <span class="search-icon">ğŸ”</span>
        Search
      </button>
    </div>
  </section>

  <!-- Plans List -->
  <section *ngIf="filteredPlans.length === 0" class="no-plans-message">
    <div class="no-plans-icon">ğŸ“‹</div>
    <h3>No plans found</h3>
    <p>Try adjusting your search criteria or browse all available plans.</p>
  </section>

  <section *ngIf="filteredPlans.length > 0" class="plans-grid">
    <article *ngFor="let plan of filteredPlans" class="plan-card">
      <header class="plan-header">
        <div class="plan-name">{{ plan.planName }}</div>
        <div class="plan-id">Plan ID: {{ plan.planId }}</div>
      </header>

      <div class="plan-description">
        {{ plan.description }}
      </div>

      <div class="plan-details">
        <div class="plan-price">
          <span class="price-label">Starting from</span>
          <span class="price-amount">â‚¹{{ plan.baseAmt }}</span>
          <span class="price-period">/year</span>
        </div>
      </div>

      <div class="plan-actions">
        <button class="book-btn" (click)="bookPlan(plan)">
          Book Now
          <span class="arrow-icon">â†’</span>
        </button>
      </div>
    </article>
  </section>
</main>
